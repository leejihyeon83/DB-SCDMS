<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>Santa Dashboard - 배송 기록</title>

    <link rel="stylesheet" href="css/santa.css" />
    <script defer src="js/santa_api.js"></script>
    <script defer src="js/santa_logs.js"></script>
</head>

<body>
    <!-- NAVIGATION -->
    <header class="santa-topbar">
        <div class="topbar-inner">
            <div class="topbar-left">
                🎅 <span>SCDMS · 산타 지휘 센터</span>
            </div>

            <div class="topbar-right">
                <span class="santa-role">Santa</span>
                <a href="/index.html" id="logoutBtn" class="logout-btn">로그아웃</a>
            </div>
        </div>
    </header>

    <nav class="santa-tabs">
        <a href="santa.html" class="tab-item">배송 대상</a>
        <a href="santa_group.html" class="tab-item">배송 실행</a>
        <a href="santa_logs.html" class="tab-item active">배송 기록</a>
    </nav>

    <!-- LOADING + ERROR -->
    <div id="loaderBackdrop" class="loader-backdrop hidden">
        <div class="loader"></div>
    </div>
    <div id="errorBanner" class="error-banner hidden"></div>

    <!-- MAIN CONTENT -->
    <main class="page-container">
        <header class="page-header">
            <div>
                <h1>📜 배송 기록</h1>
                <p class="page-subtitle">
                    시스템에 기록된 배송 트랜잭션을 조회하고, 인기 선물과 루돌프 성과를 확인할 수 있습니다.
                </p>
            </div>
        </header>

        <!-- 상단 요약 카드 -->
        <section class="summary-box logs-summary-box">
            <article class="summary-card summary-card-success">
                <div class="summary-label">성공한 배송</div>
                <div class="summary-value" id="successCount">0 건</div>
            </article>
            <article class="summary-card summary-card-failed">
                <div class="summary-label">실패한 배송</div>
                <div class="summary-value" id="failedCount">0 건</div>
            </article>
        </section>

        <!-- 내 배송 기록 -->
        <section class="table-section">
            <div class="table-header-row">
                <h2>🧑‍🎄 내 배송 기록</h2>
                <span class="table-hint">내가 수행한 배송 목록입니다</span>
            </div>

            <div class="table-wrapper">
                <table class="santa-table">
                    <thead>
                        <tr>
                            <th>로그 ID</th>
                            <th>날짜</th>
                            <th>아이</th>
                            <th>선물</th>
                        </tr>
                    </thead>
                    <tbody id="myLogsTableBody"></tbody>
                </table>
            </div>
        </section>

        <!-- 전체 배송 기록 -->
        <div class="logs-filter-row" style="margin-bottom: 15px;">
            <span class="filter-label">산타별 보기</span>
            <select id="logStaffFilter" class="filter-select filter-select-inline">
                <option value="">전체 산타</option>
                <option value="1">산타 #1</option>
            </select>
        </div>

        <!-- 배송 로그 테이블 -->
        <section class="table-section">
            <div class="table-header-row">
                <h2>전체 배송 기록</h2>
                <span class="table-hint">가장 최근 배송이 위에 표시됩니다</span>
            </div>

            <div class="table-wrapper">
                <table class="santa-table">
                    <thead>
                        <tr>
                            <th>로그 ID</th>
                            <th>날짜</th>
                            <th>아이</th>
                            <th>선물</th>
                            <th>상태</th>
                        </tr>
                    </thead>
                    <tbody id="logsTableBody"></tbody>
                </table>
            </div>
        </section>

        <!-- 하단 통계 카드 -->
        <section class="summary-grid">
            <article class="stats-card">
                <h3>🎁 인기 선물</h3>
                <p class="stats-hint">선택된 범위의 배송 로그 기준 상위 선물을 보여줍니다</p>
                <ul id="popularGiftsList" class="simple-list"></ul>
            </article>

            <article class="stats-card">
                <h3>🦌 최고 성과 루돌프</h3>
                <p class="stats-hint">배송 참여 로그 기준으로 가장 많이 활약한 루돌프입니다</p>
                <ul id="bestReindeerList" class="simple-list"></ul>
            </article>
        </section>
    </main>
</body>
</html>
